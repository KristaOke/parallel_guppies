---
title: "Slopes & Drainages"
output: html_notebook
---


```{r}
library(tidyverse)
data<- read.csv('YOUR_DATA.csv', header=TRUE, sep=",") %>% 
  rename( Mean = MeanValue, Treatment = Predation)

data<- read.csv('../Data/data.csv', header=TRUE, sep=",") %>% 
    rename( Mean = MeanValue, Treatment = Predation)
```

North: 
Yarra, Marianne, Paria, Madamas, Damier, Brasso Seco, Balandra *Tompire*, *Ricon*, *Mission*, *Toco* (*northeast?*)

South: 
Caroni Drainage (Tunapuna, Lopinot, Guanapo, Aripo, Cuara, Tranquille, Caroni, Arima, Arouca, Mausica, Tacarigua, El Cedro, Ceniza, Naranjo, Maracas, Caroni Lower Dyke, Cuara, Manacal)
Oropuche Drainage (Quare, Oropuche, Turure, La Seiva, Rio Barro, Rio Grande, La Selva, Visigney, Valencia, Matura)

*Questionable/Notes*
Naranjo: upper aripo
Tumbason:south, drainage? not included anymore
Hollis: South? not included anymore
Tompire: west coast usually counted as northern range but not connected to others 
Mission: North but over near Tompire
Ricon: north but east and not connected to a drainage
Toco: north east like tompire
Cunupia Lower Dyke: near caroni but listed as distinct in 23, has gps in supplementary mat.	
Manzanilla:	No gps, listed as separate drainage
Matura: inlcuded for now in oropuche but some say it's not because its far east and north a bit
Cenzina changed to Ceniza (typo confirmed in paper)

*Southern trinidad outside northern mountain range*

Southern trinidad outside northern mountain range
Pilote and lower trib 1 &2 are a part of a Mayaro drainage, in southern trinidad)
Lizard
Guapo
Coffee
Silverstream
Arena: Near the arena reservoir some place? thoroughly out of the mountains
Vance: South West (from jackie outside the northern range, also in paper 23, but not listed in supplementary material as a site??)


```{r drainage slope}
#fix typos not previously found
data$Population<-gsub("ElCedro1", "El Cedro", data$Population)
data$Population<-gsub("ElCedro2", "El Cedro", data$Population)
data$Population<-gsub("Lower Guapo 1", "Guapo", data$Population)
data$Population<-gsub("Lower Guapo 2", "Guapo", data$Population)
data$Population<-gsub("Laseiva", "La Seiva", data$Population)
data$Population<-gsub("Cenzina", "Ceniza", data$Population)
data$PopulationRaw<-gsub("Lower Trib 1", "Mayaro Lower Tributary 1", data$PopulationRaw)
data$PopulationRaw<-gsub("Lower Trib 2", "Mayaro Lower Tributary 2", data$PopulationRaw)
data$Population<-gsub("Lower Trib 1", "Mayaro", data$Population)
data$Population<-gsub("Lower Trib 2", "Mayaro", data$Population)

data$Population<-as.factor(data$Population)
river.list<-data %>% 
  filter(PopulationType=="Single") %>% 
  select(Population) %>% 
  unique()

North<-c("Yarra", "Marianne", "Paria", "Madamas", "Damier", "Brasso Seco", "Balandra") #"Tompire", "Ricon", "Mission", "Toco" (Northeast?)
South<-c("Tunapuna", "Lopinot", "Guanapo", "Aripo", "Cuara", "Tranquille", "Caroni", "Arima", "Arouca", "Mausica", "Tacarigua", "El Cedro", "Ceniza", "Naranjo", "Maracas", "Caroni Lower Dyke", "Cuara", "Manacal", "Quare", "Oropuche", "Turure", "La Seiva", "Rio Barro", "Rio Grande", "La Selva", "Visigney", "Valencia", "Matura")  

#Drainage level
Caroni<-c("Tunapuna", "Lopinot", "Guanapo", "Aripo", "Cuara", "Tranquille", "Caroni", "Arima", "Arouca", "Mausica", "Tacarigua", "El Cedro", "Ceniza", "Naranjo", "Maracas", "Caroni Lower Dyke", "Cuara", "Manacal")

Oropuche<-c("Quare", "Oropuche", "Turure", "La Seiva", "Rio Barro", "Rio Grande", "La Selva", "Visigney", "Valencia", "Matura")

unknown.rivers<-subset(river.list, (!(river.list$Population %in% North | river.list$Population %in% South))) #rivers not already sorted into north or south slope
```


```{r new columns}

data$Slope<-  case_when(
  data$Population %in% South ~ "South",
  data$Population %in% North ~ "North" 
) #labels all single populations as North or South Slope

data$Drainage<- case_when(
  data$Population %in% Caroni ~ "Caroni",
  data$Population %in% Oropuche ~ "Oropuche",
  data$Population %in% North ~ "Northern"
)  #Labels all single populations as a specific drainage
```


```{r years}
year<-data %>% 
  select(StudyID:Month, TraitID, PopulationType)
year$YearStart<-NA
year$YearEnd<-NA
year$YearEnd<-str_sub(year$CollectionYear, -4)
year$YearStart<-str_sub(year$CollectionYear, start = 0, 4)
```


```{r plots}
ggplot(year, aes(YearStart))+geom_histogram(stat = "count")

ggplot(year, aes(as.Date(YearStart, format = "%Y"), as.Date(YearEnd, format = "%Y")))+geom_point()+ geom_abline(intercept = 0, slope = 1) +  scale_x_date(date_labels = "%Y")
```


